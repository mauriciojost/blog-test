<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Laurent Pellegrino">
  <meta name="theme-color" content="#284a5e">
  <title>"Unfortunately, Launcher has stopped" on Android</title>
  <meta name="description" content="I am discovering Android emulators. My purpose is to automate screenshots capture for one of my apps (which will probably be the subject of another post). Wh...">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://www.pellegrino.link/2015/02/05/unfortunately-launcher-has-stopped-on-android.html">
  <link rel="alternate" type="application/rss+xml" title="Laurent Pellegrino" href="http://www.pellegrino.link/feed.xml">
</head>

<body>
	<div id="container">
		<div id="row">
			<header id="sidebar">
  <a href="/"/>
    <img src="/images/lemurien.jpg" class="avatar" alt="" />
  </a>

  <h1>
    <strong>I am Laurent</strong>, an R&amp;D Engineer <br /> working at <a href="http://www.activeeon.com" title="ActiveEon - Scale Beyond Limits">ActiveEon</a> in French Riviera
  </h1>

  <nav class="site-nav vspace">
    <a href="/" class="navlink">Blog</a>
    <span style="font-size: 10px;">&nbsp;&bull;&nbsp;</span>
    <a href="/archives" class="navlink">Archives</a>
    <span style="font-size: 10px;">&nbsp;&bull;&nbsp;</span>
    <a href="/about" class="navlink">About</a>
  </nav>

  <ul class="icons vspace">
    <li><a href="http://linkedin.pellegrino.link" class="icon fa-linkedin" title="Linkedin profile"><span class="label">Linkedin</span></a></li>
    <li><a href="https://github.com/lpellegr" class="icon fa-github" title="Github profile"><span class="label">Github</span></a></li>
    <li><a href="http://stackoverflow.com/users/269447/laurent" class="icon fa-stack-overflow" title="Stackoverflow profile"><span class="label">Stack Overflow</span></a></li>
    <li><a href="http://www.google.com/recaptcha/mailhide/d?k=01aQ9xMzKtmiI_QFsoA7_5cw==&amp;c=tRqec_6YI_OyihG21CXPRw7EZ3YIpLSQjW_ZCODLh0s=" onclick="window.open('http://www.google.com/recaptcha/mailhide/d?k\07501aQ9xMzKtmiI_QFsoA7_5cw\75\75\46c\75tRqec_6YI_OyihG21CXPRw7EZ3YIpLSQjW_ZCODLh0s\075', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;" title="Reveal this e-mail address" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
  </ul>
</header>

			<section id="page-content">
				<div id="content">
					<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <p class="post-meta"><time datetime="2015-02-05T00:00:00+01:00" itemprop="datePublished">Feb 5, 2015</time></p>
    <h1 class="post-title" itemprop="name headline">"Unfortunately, Launcher has stopped" on Android</h1>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I am discovering Android emulators. My purpose is to automate screenshots capture for one of my apps (which will probably be the subject of another post). What was my astonishment when I started my first Android virtual device (running Lollipop) is that every time I was clicking on the app launcher icon I was getting &quot;Unfortunately, Launcher has stopped.&quot;</p>

<!--more-->

<p>To fix the issue, my idea was to look at the logs provided by logcat with <code>adb -e logcat</code>. The <code>-e</code> option is used in my case for directing the adb command to the only running emulator instance since I often let one or more physical devices plugged.</p>

<p>Running the previous command displays many information but if you look at log messages corresponding to the time at which the app launcher icon was clicked, a really meaningful message is available:</p>

<figure class="highlight"><pre><code class="language-console" data-lang="console">E/AndroidRuntime( 1794): FATAL EXCEPTION: main
E/AndroidRuntime( 1794): Process: com.android.launcher, PID: 1794
E/AndroidRuntime( 1794): java.lang.OutOfMemoryError: Failed to allocate a 13063692 byte allocation with 4194304 free bytes and 9MB until OOM</code></pre></figure>

<p>Indeed, the issue comes from memory allocation. To fix the problem you simply have to increase the vm heap size associated to the virtual device (in my case to 256 from 64 MB). You can do it through the graphical interface (Android Studio or by executing <code>android avd</code>). Another alternative is to edit the line <code>vm.heapSize=64</code> from the configuration file corresponding to the virtual device you have created. This file is located at <code>~/.android/avd/AVD_NAME.avd/config.ini</code> where AVD_NAME is the name of the virtual device you have created.</p>

  </div>

  <div itemprop="keywords">
    Tags:
    
      <a href="http://www.google.com/search?q=ADB&btnI=I%27m%20feeling%20lucky">ADB</a>, 
    
      <a href="http://www.google.com/search?q=Android&btnI=I%27m%20feeling%20lucky">Android</a>, 
    
      <a href="http://www.google.com/search?q=Android Virtual Device&btnI=I%27m%20feeling%20lucky">Android Virtual Device</a>, 
    
      <a href="http://www.google.com/search?q=AVD&btnI=I%27m%20feeling%20lucky">AVD</a>, 
    
      <a href="http://www.google.com/search?q=Crash&btnI=I%27m%20feeling%20lucky">Crash</a>, 
    
      <a href="http://www.google.com/search?q=Error&btnI=I%27m%20feeling%20lucky">Error</a>, 
    
      <a href="http://www.google.com/search?q=logcat&btnI=I%27m%20feeling%20lucky">logcat</a>, 
    
      <a href="http://www.google.com/search?q=Lollipop&btnI=I%27m%20feeling%20lucky">Lollipop</a>, 
    
      <a href="http://www.google.com/search?q=OutOfMemory&btnI=I%27m%20feeling%20lucky">OutOfMemory</a>
    
  </div>
</article>





<div id="disqus_thread"></div>
<script type="text/javascript">
        var disqus_shortname = 'lpellegr';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



				</div>
			</section>
		</div>
	</div>
	<script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-59741838-1', 'auto');
	ga('send', 'pageview');
  </script>
</body>
</html>
